parameters:
  ucms_tree_site_menu:
    site-main: Main menu
    site-footer: Footer menu

services:

  ucms_tree.context_pane_event_listener:
    class: MakinaCorpus\Ucms\Tree\EventDispatcher\ContextPaneEventListener
    arguments: ["@ucms_site.manager", "@umenu.storage"]
    tags:
      - { name: event_listener, event: ucms_dashboard.context_init }


  ucms_tree.site_event_listener:
    class: MakinaCorpus\Ucms\Tree\EventDispatcher\SiteEventListener
    arguments: ["@database", "@ucms_site.manager", "%ucms_tree_site_menu%"]
    tags:
      - {name: event_listener, event: "site:create"}
      - {name: event_listener, event: "site:init"}
      - {name: event_listener, event: "site:clone"}
